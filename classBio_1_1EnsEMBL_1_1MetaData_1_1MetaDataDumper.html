<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Ensembl Metadata: Bio::EnsEMBL::MetaData::MetaDataDumper Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->

<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr>
  
  
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.4 -->
<script type="text/javascript"><!--
var searchBox = new SearchBox("searchBox", "search",false,'Search');
--></script>
<script type="text/javascript">
function hasClass(ele,cls) {
  return ele.className.match(new RegExp('(\\s|^)'+cls+'(\\s|$)'));
}

function addClass(ele,cls) {
  if (!this.hasClass(ele,cls)) ele.className += " "+cls;
}

function removeClass(ele,cls) {
  if (hasClass(ele,cls)) {
    var reg = new RegExp('(\\s|^)'+cls+'(\\s|$)');
    ele.className=ele.className.replace(reg,' ');
  }
}

function toggleVisibility(linkObj) {
 var base = linkObj.getAttribute('id');
 var summary = document.getElementById(base + '-summary');
 var content = document.getElementById(base + '-content');
 var trigger = document.getElementById(base + '-trigger');
 if ( hasClass(linkObj,'closed') ) {
   summary.style.display = 'none';
   content.style.display = 'block';
   trigger.src = 'open.png';
   removeClass(linkObj,'closed');
   addClass(linkObj,'opened');
 } else if ( hasClass(linkObj,'opened') ) {
   summary.style.display = 'block';
   content.style.display = 'none';
   trigger.src = 'closed.png';
   removeClass(linkObj,'opened');
   addClass(linkObj,'closed');
 }
 return false;
}
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directory&#160;Browser</span></a></li>
      <li id="searchli">
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="annotated.html"><span>Full&#160;Class&#160;List</span></a></li>
      <li><a href="functions.html"><span>Methods&#160;from&#160;all&#160;packages</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Available Methods</a>  </div>
  <div class="headertitle">
<div class="title">Bio::EnsEMBL::MetaData::MetaDataDumper Class Reference</div>  </div>
</div>
<div class="contents">
<!-- doxytag: class="Bio::EnsEMBL::MetaData::MetaDataDumper" --><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png"/> Inheritance diagram for Bio::EnsEMBL::MetaData::MetaDataDumper:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper__inherit__graph.png" border="0" usemap="#Bio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_inherit__map" alt="Inheritance graph"/></div>
<map name="Bio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_inherit__map" id="Bio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_inherit__map">
<area shape="rect" id="node2" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1JsonMetaDataDumper.html" title="Bio::EnsEMBL::MetaData::MetaDataDumper::JsonMetaDataDumper" alt="" coords="326,5,733,32"/><area shape="rect" id="node3" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1TextMetaDataDumper.html" title="Bio::EnsEMBL::MetaData::MetaDataDumper::TextMetaDataDumper" alt="" coords="327,56,731,83"/><area shape="rect" id="node4" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1TT2MetaDataDumper.html" title="Bio::EnsEMBL::MetaData::MetaDataDumper::TT2MetaDataDumper" alt="" coords="328,107,731,133"/><area shape="rect" id="node5" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1UniProtReportDumper.html" title="Bio::EnsEMBL::MetaData::MetaDataDumper::UniProtReportDumper" alt="" coords="327,157,731,184"/><area shape="rect" id="node6" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1XMLMetaDataDumper.html" title="Bio::EnsEMBL::MetaData::MetaDataDumper::XMLMetaDataDumper" alt="" coords="326,208,733,235"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>

<p><a href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper-members.html">List of all members.</a></p>
<hr/><a name="details" id="details"></a><h2>Class Summary</h2>
<div class="textblock"><h2><a class="anchor" id="Synopsis"></a>
Synopsis</h2>
<div class="fragment"><pre class="fragment"><span class="preprocessor"># usage of concrete implementations</span>
<span class="preprocessor"></span>my $dumper = Bio::EnsEMBL::MetaData::MetaDataDumper::MyDumper-&gt;new();

<span class="preprocessor"># sequential dumping to multiple files in parallel</span>
<span class="preprocessor"></span>my $opts = {
  division =&gt; [<span class="stringliteral">&#39;EnsemblFungi&#39;</span>,<span class="stringliteral">&#39;EnsemblProtists&#39;</span>];
  file =&gt; <span class="stringliteral">&#39;MyFile.txt&#39;</span>
};
<span class="preprocessor"># set to dump to common &quot;all&quot; file as well as division</span>
<span class="preprocessor"></span>$dump_all = 1;
<span class="preprocessor"># open files</span>
<span class="preprocessor"></span>$dumper-&gt;start($opts-&gt;{division}, $dumper-&gt;{file}, $dump_all);
<span class="keywordflow">for</span> my $md (@metadata) {
  $dumper-&gt;write_metadata($md, $dump_all); # dump to divisions and 
}
<span class="preprocessor"># close files</span>
<span class="preprocessor"></span>$dumper-&gt;end($opts-&gt;{division}, $dumper-&gt;{file}, $dump_all);

<span class="preprocessor"># dumping in one go (can be expensive to render)</span>
<span class="preprocessor">$dumper-&gt;dump_metadata(\@metadata, &quot;my_file.txt&quot;, [&#39;EnsemblMetazoa&#39;], $dump_all);</span>
</pre></div> <h2><a class="anchor" id="Description"></a>
Description</h2>
 <pre>
Base class for rendering details from an instance of Bio::EnsEMBL::MetaData::GenomeInfo. 
Designed for dumping to multiple per-division files in parallel including a common "all" 
file, (using start, write_metadata and end) or for one-off use (using dump_metadata).

</pre> <h2><a class="anchor" id="See-also"></a>
See-also</h2>
<p><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1JsonMetaDataDumper.html">Bio::EnsEMBL::MetaData::MetaDataDumper::JsonMetaDataDumper</a> <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1TextMetaDataDumper.html">Bio::EnsEMBL::MetaData::MetaDataDumper::TextMetaDataDumper</a> <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1TT2MetaDataDumper.html">Bio::EnsEMBL::MetaData::MetaDataDumper::TT2MetaDataDumper</a> <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1XMLMetaDataDumper.html">Bio::EnsEMBL::MetaData::MetaDataDumper::XMLMetaDataDumper</a> <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1UniProtReportDumper.html">Bio::EnsEMBL::MetaData::MetaDataDumper::UniProtReportDumper</a> </p>

<p>Definition at line <a class="el" href="MetaDataDumper_8pm_source.html#l00049">49</a> of file <a class="el" href="MetaDataDumper_8pm_source.html">MetaDataDumper.pm</a>.</p>
</div><table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Available Methods</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">protected void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#aa975af0b17ab53325bbce70bfb089400">_write_metadata_to_file</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#ae79781147c83509e79f314b615c21ad8">dump_metadata</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a278a982904f3b8d9a33b195d726673b7">end</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a2d21f3c8ae632f8d5910e645a1faefb7">logger</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public Hashref&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a820bb57482f5708c3b48ab5b7a2b7409">metadata_to_hash</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a120c95b87885db7256b55492cdd677de">new</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a00b95ab2c5788bb799db72bea8e7b9f9">start</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#ae9c257f03839d625c26475333fb93b18">write_metadata</a> ()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">public String&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#ade23cb59e724da36be1659d81ec64465">yesno</a> ()</td></tr>
</table>
<hr/><h2>Method Documentation</h2>
<a class="anchor" id="aa975af0b17ab53325bbce70bfb089400"></a><!-- doxytag: member="Bio::EnsEMBL::MetaData::MetaDataDumper::_write_metadata_to_file" ref="aa975af0b17ab53325bbce70bfb089400" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">protected void Bio::EnsEMBL::MetaData::MetaDataDumper::_write_metadata_to_file </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<pre>  Arg        : Arrayref of <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1GenomeInfo.html">Bio::EnsEMBL::MetaData::GenomeInfo</a>
  Arg        : File handle to write to
  Description: Stub for writing to a file - implement in subclasses
  Returntype : none
  Exceptions : none
  Caller     : internal
  Status     : Stable
 </pre><div id="codesection-_write_metadata_to_file" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
	<img id='codesection-_write_metadata_to_file-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-_write_metadata_to_file-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-_write_metadata_to_file-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><pre class="fragment">sub <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#aa975af0b17ab53325bbce70bfb089400">_write_metadata_to_file</a> {
  my ( $self, $metadata, $fh ) = @_;
  <span class="keywordflow">throw</span> <span class="stringliteral">&quot;Unimplemented subroutine do_dump() in &quot;</span> . ref($self) .
    <span class="stringliteral">&quot;. Please implement&quot;</span>;
  <span class="keywordflow">return</span>;
}
</pre></div> </div> 
<p>Reimplemented in <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1JsonMetaDataDumper.html#a26c02e65cfdb02f6e1f40d6d21bb88cb">Bio::EnsEMBL::MetaData::MetaDataDumper::JsonMetaDataDumper</a>, <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1TextMetaDataDumper.html#a59cb4a97a2ce62955f9b6bfcabdb08de">Bio::EnsEMBL::MetaData::MetaDataDumper::TextMetaDataDumper</a>, <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1UniProtReportDumper.html#abbacd9e653e15b2e9598ff15f324a267">Bio::EnsEMBL::MetaData::MetaDataDumper::UniProtReportDumper</a>, and <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1XMLMetaDataDumper.html#a365efe14f480e07f1809171a50523463">Bio::EnsEMBL::MetaData::MetaDataDumper::XMLMetaDataDumper</a>.</p>

</div>
</div>
<a class="anchor" id="ae79781147c83509e79f314b615c21ad8"></a><!-- doxytag: member="Bio::EnsEMBL::MetaData::MetaDataDumper::dump_metadata" ref="ae79781147c83509e79f314b615c21ad8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::MetaData::MetaDataDumper::dump_metadata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<pre>  Description: Write supplied metadata to file
  Arg        : Arrayref of <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1GenomeInfo.html">Bio::EnsEMBL::MetaData::GenomeInfo</a>
  Arg        : File to write to
  Arg        : Arrayref of divisions
  Arg        : Whether to dump to "all" file
  Returntype : none
  Exceptions : none
  Caller     : general
  Status     : Stable
 </pre><div id="codesection-dump_metadata" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
	<img id='codesection-dump_metadata-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-dump_metadata-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-dump_metadata-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><pre class="fragment">sub <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#ae79781147c83509e79f314b615c21ad8">dump_metadata</a> {
  my ( $self, $metadata, $file, $divisions, $dump_all ) = @_;
<span class="preprocessor">  # start</span>
<span class="preprocessor"></span>  $self-&gt;start( $file, $divisions, $dump_all );
<span class="preprocessor">  # iterate</span>
<span class="preprocessor"></span>  <span class="keywordflow">for</span> my $md (@$metadata) {
    <span class="keywordflow">if</span> ( scalar(@$divisions) &gt; 1 ) {
      $self-&gt;write_metadata( $md, $self-&gt;{all} );
    }
    $self-&gt;write_metadata( $md, $md-&gt;{division} );
  }
<span class="preprocessor">  # end</span>
<span class="preprocessor"></span>  $self-&gt;end();
  <span class="keywordflow">return</span>;

}
</pre></div> </div> 
</div>
</div>
<a class="anchor" id="a278a982904f3b8d9a33b195d726673b7"></a><!-- doxytag: member="Bio::EnsEMBL::MetaData::MetaDataDumper::end" ref="a278a982904f3b8d9a33b195d726673b7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::MetaData::MetaDataDumper::end </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<pre>  Description: Stop writing to output file(s) and close handles
  Returntype : none
  Exceptions : none
  Caller     : internal
  Status     : Stable
 </pre><div id="codesection-end" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
	<img id='codesection-end-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-end-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-end-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><pre class="fragment">sub <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a278a982904f3b8d9a33b195d726673b7">end</a> {
  my ($self) = @_;
  $self-&gt;logger()-&gt;debug(<span class="stringliteral">&quot;Closing all file handles&quot;</span>);
  <span class="keywordflow">for</span> my $fh ( values %{ $self-&gt;{files} } ) {
    $self-&gt;logger()-&gt;debug(<span class="stringliteral">&quot;Closing file handle&quot;</span>);
    close($fh) || cluck <span class="stringliteral">&quot;Could not close file handle for writing&quot;</span>;
  }
  $self-&gt;logger()
    -&gt;debug(
           <span class="stringliteral">&quot;Closed &quot;</span> . scalar( values %{ $self-&gt;{files} } ) . <span class="stringliteral">&quot; file handles&quot;</span> );
  <span class="keywordflow">return</span>;
}
</pre></div> </div> 
<p>Reimplemented in <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1JsonMetaDataDumper.html#a037b0c7367151c46cca025e152e4ac09">Bio::EnsEMBL::MetaData::MetaDataDumper::JsonMetaDataDumper</a>, and <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1XMLMetaDataDumper.html#a8e3e6827ed81757455a8423af415a71b">Bio::EnsEMBL::MetaData::MetaDataDumper::XMLMetaDataDumper</a>.</p>

</div>
</div>
<a class="anchor" id="a2d21f3c8ae632f8d5910e645a1faefb7"></a><!-- doxytag: member="Bio::EnsEMBL::MetaData::MetaDataDumper::logger" ref="a2d21f3c8ae632f8d5910e645a1faefb7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::MetaData::MetaDataDumper::logger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-logger" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
	<img id='codesection-logger-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-logger-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-logger-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><pre class="fragment">sub <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a2d21f3c8ae632f8d5910e645a1faefb7">logger</a> {
  my ($self) = @_;
  <span class="keywordflow">return</span> $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a2d21f3c8ae632f8d5910e645a1faefb7">logger</a>};
}
</pre></div> </div> 
</div>
</div>
<a class="anchor" id="a820bb57482f5708c3b48ab5b7a2b7409"></a><!-- doxytag: member="Bio::EnsEMBL::MetaData::MetaDataDumper::metadata_to_hash" ref="a820bb57482f5708c3b48ab5b7a2b7409" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Hashref Bio::EnsEMBL::MetaData::MetaDataDumper::metadata_to_hash </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<pre>  Description: Turn metadata into hash
  Arg        : Arrayref of <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1GenomeInfo.html">Bio::EnsEMBL::MetaData::GenomeInfo</a>
  Returntype : Hashref
  Exceptions : none
  Caller     : internal
  Status     : Stable
 </pre><div id="codesection-metadata_to_hash" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
	<img id='codesection-metadata_to_hash-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-metadata_to_hash-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-metadata_to_hash-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><pre class="fragment">sub <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a820bb57482f5708c3b48ab5b7a2b7409">metadata_to_hash</a> {
  my ( $self, $metadata ) = @_;
  my $genomes = [];
  <span class="keywordflow">for</span> my $md ( @{$metadata} ) {
    push @$genomes, $md-&gt;to_hash(1);
  }
  <span class="keywordflow">return</span> { genome =&gt; $genomes };
}
</pre></div> </div> 
</div>
</div>
<a class="anchor" id="a120c95b87885db7256b55492cdd677de"></a><!-- doxytag: member="Bio::EnsEMBL::MetaData::MetaDataDumper::new" ref="a120c95b87885db7256b55492cdd677de" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public Bio::EnsEMBL::MetaData::MetaDataDumper::new </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Undocumented method</p>
<div id="codesection-new" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
	<img id='codesection-new-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-new-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-new-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><pre class="fragment">sub <span class="keyword">new</span> {
  my ( $proto, @args ) = @_;
  my $class = ref($proto) || $proto;
  my $self = bless( {}, $class );
  $self-&gt;{<a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a2d21f3c8ae632f8d5910e645a1faefb7">logger</a>} = get_logger();
  $self-&gt;{all}    = <span class="stringliteral">&#39;all&#39;</span>;
  <span class="keywordflow">return</span> $self;
}
</pre></div> </div> 
<p>Reimplemented in <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1JsonMetaDataDumper.html#a0aba521e25078e0bb1b9e158ab1802b0">Bio::EnsEMBL::MetaData::MetaDataDumper::JsonMetaDataDumper</a>, <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1TextMetaDataDumper.html#a7967ecce31b489951148db59c5e04e30">Bio::EnsEMBL::MetaData::MetaDataDumper::TextMetaDataDumper</a>, <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1TT2MetaDataDumper.html#a063654b142adac7295390fd8a1401915">Bio::EnsEMBL::MetaData::MetaDataDumper::TT2MetaDataDumper</a>, <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1UniProtReportDumper.html#ac9eb2bd859676e82858b09edb3f7c209">Bio::EnsEMBL::MetaData::MetaDataDumper::UniProtReportDumper</a>, and <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1XMLMetaDataDumper.html#a5e930d46f1344d8ce6e8f77a7083df2c">Bio::EnsEMBL::MetaData::MetaDataDumper::XMLMetaDataDumper</a>.</p>

</div>
</div>
<a class="anchor" id="a00b95ab2c5788bb799db72bea8e7b9f9"></a><!-- doxytag: member="Bio::EnsEMBL::MetaData::MetaDataDumper::start" ref="a00b95ab2c5788bb799db72bea8e7b9f9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::MetaData::MetaDataDumper::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<pre>  Description: Start writing to output file(s)
  Arg        : Arrayref of strings representing divisions to dump
  Arg        : Basename of file to write to
  Arg        : Whether to dump to "all" file
  Returntype : none
  Exceptions : none
  Caller     : internal
  Status     : Stable
 </pre><div id="codesection-start" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
	<img id='codesection-start-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-start-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-start-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><pre class="fragment">sub <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a00b95ab2c5788bb799db72bea8e7b9f9">start</a> {
  my ( $self, $divisions, $file, $dump_all ) = @_;
  $self-&gt;{files}     = {};
  $self-&gt;{filenames} = {};
  $self-&gt;logger()-&gt;debug(<span class="stringliteral">&quot;Opening output files&quot;</span>);
  <span class="keywordflow">for</span> my $division ( @{$divisions} ) {
    ( my $out_file = $file ) =~ s/(.+)(\.[^.]+)$/$1_$division$2/;
    my $fh;
    $self-&gt;logger()
      -&gt;debug(<span class="stringliteral">&quot;Opening output file $out_file for division $division&quot;</span>);
    open( $fh, <span class="charliteral">&#39;&gt;&#39;</span>, $out_file ) || croak <span class="stringliteral">&quot;Could not open $out_file for writing&quot;</span>;
    $self-&gt;{files}-&gt;{$division}     = $fh;
    $self-&gt;{filenames}-&gt;{$division} = $out_file;
    $self-&gt;{count}{$division}       = 0;
  }
  <span class="keywordflow">if</span> ( defined $dump_all &amp;&amp; $dump_all == 1 ) {
    my $fh;
    $self-&gt;logger()-&gt;debug(<span class="stringliteral">&quot;Opening output file $file&quot;</span>);
    open( $fh, <span class="charliteral">&#39;&gt;&#39;</span>, $file ) || croak <span class="stringliteral">&quot;Could not open $file for writing&quot;</span>;
    $self-&gt;{files}-&gt;{ $self-&gt;{all} }     = $fh;
    $self-&gt;{filenames}-&gt;{ $self-&gt;{all} } = $file;
    $self-&gt;{count}{ $self-&gt;{all} }       = 0;
  }
  $self-&gt;{files_handles} = {};
  $self-&gt;logger()
    -&gt;debug(
           <span class="stringliteral">&quot;Opened &quot;</span> . scalar( values %{ $self-&gt;{files} } ) . <span class="stringliteral">&quot; output files&quot;</span> );
  <span class="keywordflow">return</span>;
} ## <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a278a982904f3b8d9a33b195d726673b7">end</a> sub <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#a00b95ab2c5788bb799db72bea8e7b9f9">start</a>
</pre></div> </div> 
<p>Reimplemented in <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1JsonMetaDataDumper.html#acfa7ad03a5587ea46bc7792a900bfe31">Bio::EnsEMBL::MetaData::MetaDataDumper::JsonMetaDataDumper</a>, <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1TextMetaDataDumper.html#ad17c42816e1c190b90f253f51dba71e7">Bio::EnsEMBL::MetaData::MetaDataDumper::TextMetaDataDumper</a>, <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1UniProtReportDumper.html#a1bfcf7a2646c9f1634f1008d5f1538a4">Bio::EnsEMBL::MetaData::MetaDataDumper::UniProtReportDumper</a>, and <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper_1_1XMLMetaDataDumper.html#a24f3dfec9cdaf74d79a233001647632b">Bio::EnsEMBL::MetaData::MetaDataDumper::XMLMetaDataDumper</a>.</p>

</div>
</div>
<a class="anchor" id="ae9c257f03839d625c26475333fb93b18"></a><!-- doxytag: member="Bio::EnsEMBL::MetaData::MetaDataDumper::write_metadata" ref="ae9c257f03839d625c26475333fb93b18" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public void Bio::EnsEMBL::MetaData::MetaDataDumper::write_metadata </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<pre>  Arg        : Arrayref of <a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1GenomeInfo.html">Bio::EnsEMBL::MetaData::GenomeInfo</a>
  Arg        : Division to write to
  Description: Write metadata to division files
  Returntype : none
  Exceptions : none
  Caller     : general
  Status     : Stable
 </pre><div id="codesection-write_metadata" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
	<img id='codesection-write_metadata-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-write_metadata-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-write_metadata-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><pre class="fragment">sub <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#ae9c257f03839d625c26475333fb93b18">write_metadata</a> {
  my ( $self, $metadata, $division ) = @_;
  my $fh = $self-&gt;{files}{$division};
  <span class="keywordflow">if</span> ( defined $fh ) {
    $self-&gt;_write_metadata_to_file( $metadata, $fh,
                                    $self-&gt;{count}-&gt;{$division} );
    $self-&gt;{count}-&gt;{$division} += 1;
  }
  <span class="keywordflow">return</span>;
}
</pre></div> </div> 
</div>
</div>
<a class="anchor" id="ade23cb59e724da36be1659d81ec64465"></a><!-- doxytag: member="Bio::EnsEMBL::MetaData::MetaDataDumper::yesno" ref="ade23cb59e724da36be1659d81ec64465" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">public String Bio::EnsEMBL::MetaData::MetaDataDumper::yesno </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<pre>  Description: Turn defined/integer into Y/N
  Arg        : Integer 1/0
  Returntype : String
  Exceptions : none
  Caller     : internal
  Status     : Stable
 </pre><div id="codesection-yesno" class="dynheader closed" style="cursor:pointer;" onclick="return toggleVisibility(this)">  
	<img id='codesection-yesno-trigger' src='closed.png' style='display:inline'><b>Code:</b>
</div>
<div id='codesection-yesno-summary' class='dyncontent' style='display:block;font-size:small;'>click to view</div>
<div id='codesection-yesno-content' class='dyncontent' style='display: none;'> 
 <div class="fragment"><pre class="fragment">sub <a class="code" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html#ade23cb59e724da36be1659d81ec64465">yesno</a> {
  my ( $self, $num ) = @_;
  <span class="keywordflow">return</span> ( defined $num &amp;&amp; $num + 0 &gt; 0 ) ? <span class="charliteral">&#39;Y&#39;</span> : <span class="charliteral">&#39;N&#39;</span>;
}
</pre></div> </div> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>Bio/EnsEMBL/MetaData/<a class="el" href="MetaDataDumper_8pm_source.html">MetaDataDumper.pm</a></li>
</ul>
</div>
</div>
  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespaceBio.html">Bio</a>      </li>
      <li class="navelem"><a class="el" href="namespaceBio_1_1EnsEMBL.html">EnsEMBL</a>      </li>
      <li class="navelem"><a class="el" href="namespaceBio_1_1EnsEMBL_1_1MetaData.html">MetaData</a>      </li>
      <li class="navelem"><a class="el" href="classBio_1_1EnsEMBL_1_1MetaData_1_1MetaDataDumper.html">MetaDataDumper</a>      </li>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  </div>
</body>
</html>
